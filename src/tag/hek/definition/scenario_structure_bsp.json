[
    {
        "name": "ScenarioStructureBSPMaterialFlags",
        "type": "bitfield",
        "fields": [
            "coplanar",
            "fog plane"
        ],
        "width": 16
    },
    {
        "name": "ScenarioStructureBSPClusterPortalFlags",
        "type": "bitfield",
        "fields": [
            "ai can simply not hear through all this amazing stuff darn it"
        ],
        "width": 32
    },
    {
        "name": "ScenarioStructureBSPCollisionMaterial",
        "fields": [
            {
                "name": "shader",
                "type": "TagDependency",
                "classes": [
                    "shader"
                ],
                "compound": true,
                "non_null": true
            },
            {
                "type": "pad",
                "size": 2
            },
            {
                "name": "material",
                "type": "MaterialType",
                "endian": "little",
                "cache_only": true
            }
        ],
        "type": "struct",
        "post_compile": true,
        "title": "shader",
        "read_only": true,
        "size": 20
    },
    {
        "name": "ScenarioStructureBSPNode",
        "fields": [
            {
                "name": "node stuff",
                "type": "uint16",
                "endian": "little",
                "count": 3
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 6
    },
    {
        "name": "ScenarioStructureBSPLeaf",
        "fields": [
            {
                "name": "vertices",
                "type": "uint16",
                "endian": "little",
                "count": 3
            },
            {
                "type": "pad",
                "size": 2
            },
            {
                "name": "cluster",
                "type": "Index"
            },
            {
                "name": "surface reference count",
                "type": "uint16"
            },
            {
                "name": "surface references",
                "type": "int32"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPSurfaceReference",
        "fields": [
            {
                "name": "surface",
                "type": "int32"
            },
            {
                "name": "node",
                "type": "int32"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 8
    },
    {
        "name": "ScenarioStructureBSPSurface",
        "fields": [
            {
                "name": "vertex0 index",
                "type": "Index"
            },
            {
                "name": "vertex1 index",
                "type": "Index"
            },
            {
                "name": "vertex2 index",
                "type": "Index"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 6
    },
    {
        "name": "ScenarioStructureBSPMaterialUncompressedRenderedVertex",
        "fields": [
            {
                "name": "position",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "normal",
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "binormal",
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "tangent",
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "texture coords",
                "type": "Point2D",
                "compound": true
            }
        ],
        "type": "struct",
        "size": 56
    },
    {
        "name": "ScenarioStructureBSPMaterialCompressedRenderedVertex",
        "fields": [
            {
                "name": "position",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "normal",
                "type": "uint32"
            },
            {
                "name": "binormal",
                "type": "uint32"
            },
            {
                "name": "tangent",
                "type": "uint32"
            },
            {
                "name": "texture coords",
                "type": "Point2D",
                "compound": true
            }
        ],
        "type": "struct",
        "size": 32
    },
    {
        "name": "ScenarioStructureBSPMaterialUncompressedLightmapVertex",
        "fields": [
            {
                "name": "normal",
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "texture coords",
                "type": "Point2D",
                "compound": true
            }
        ],
        "type": "struct",
        "size": 20
    },
    {
        "name": "ScenarioStructureBSPMaterialCompressedLightmapVertex",
        "fields": [
            {
                "name": "normal",
                "type": "uint32"
            },
            {
                "name": "texture coordinate x",
                "type": "int16"
            },
            {
                "name": "texture coordinate y",
                "type": "int16"
            }
        ],
        "type": "struct",
        "size": 8
    },
    {
        "name": "ScenarioStructureBSPMaterial",
        "fields": [
            {
                "name": "shader",
                "type": "TagDependency",
                "classes": [
                    "shader"
                ],
                "non_null": true,
                "read_only": false,
                "compound": true
            },
            {
                "name": "shader permutation",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "flags",
                "type": "ScenarioStructureBSPMaterialFlags"
            },
            {
                "name": "surfaces",
                "type": "int32"
            },
            {
                "name": "surface count",
                "type": "int32"
            },
            {
                "name": "centroid",
                "type": "Point3D",
                "read_only": false,
                "compound": true
            },
            {
                "name": "ambient color",
                "type": "ColorRGB",
                "read_only": false,
                "compound": true
            },
            {
                "name": "distant light count",
                "type": "uint16"
            },
            {
                "type": "pad",
                "size": 2
            },
            {
                "name": "distant light 0 color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "name": "distant light 0 direction",
                "read_only": false,
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "distant light 1 color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "name": "distant light 1 direction",
                "read_only": false,
                "type": "Vector3D",
                "compound": true
            },
            {
                "type": "pad",
                "size": 12
            },
            {
                "name": "reflection tint",
                "read_only": false,
                "type": "ColorARGB",
                "compound": true
            },
            {
                "name": "shadow vector",
                "read_only": false,
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "shadow color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "name": "plane",
                "type": "Plane3D",
                "read_only": false,
                "compound": true
            },
            {
                "name": "breakable surface",
                "type": "Index"
            },
            {
                "type": "pad",
                "size": 2
            },
            {
                "name": "do not screw up the model",
                "type": "uint32",
                "comment": "(Xbox only) if this isn't set to 1, then the world ends",
                "endian": "little",
                "cache_only": true
            },
            {
                "name": "rendered vertices count",
                "type": "uint32"
            },
            {
                "name": "rendered vertices offset",
                "type": "uint32"
            },
            {
                "type": "pad",
                "size": 4,
                "comment": "on PC, this gets changed to a pointer to something when the BSP is loaded in-game"
            },
            {
                "name": "rendered vertices index pointer",
                "type": "Pointer",
                "cache_only": true,
                "comment": "(Xbox only) an indirect pointer to the rendered vertices",
                "endian": "little"
            },
            {
                "name": "set this or die",
                "type": "uint32",
                "endian": "little",
                "comment": "(Xbox only) if this isn't set to 3, then the visible lightmap UVs do not work",
                "cache_only": true
            },
            {
                "name": "lightmap vertices count",
                "type": "uint32"
            },
            {
                "name": "lightmap vertices offset",
                "type": "uint32"
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "lightmap vertices index pointer",
                "type": "Pointer",
                "cache_only": true,
                "comment": "(Xbox only) an indirect pointer to the lightmap vertices",
                "endian": "little"
            },
            {
                "name": "uncompressed vertices",
                "type": "TagDataOffset",
                "compound": true,
                "ignore_cached": true
            },
            {
                "name": "compressed vertices",
                "type": "TagDataOffset",
                "compound": true,
                "ignore_cached": true
            }
        ],
        "type": "struct",
        "post_cache_parse": true,
        "pre_compile": true,
        "normalize": true,
        "read_only": true,
        "size": 256
    },
    {
        "name": "ScenarioStructureBSPLightmap",
        "fields": [
            {
                "name": "bitmap",
                "type": "Index"
            },
            {
                "type": "pad",
                "size": 2
            },
            {
                "type": "pad",
                "size": 16
            },
            {
                "name": "materials",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMaterial",
                "hek_maximum": 2048,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 32
    },
    {
        "name": "ScenarioStructureBSPLensFlare",
        "fields": [
            {
                "name": "lens",
                "type": "TagDependency",
                "compound": true,
                "classes": [
                    "lens_flare"
                ]
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPLensFlareMarker",
        "fields": [
            {
                "name": "position",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "direction i component",
                "type": "int8",
                "endian": null
            },
            {
                "name": "direction j component",
                "type": "int8",
                "endian": null
            },
            {
                "name": "direction k component",
                "type": "int8",
                "endian": null
            },
            {
                "name": "lens flare index",
                "type": "int8",
                "endian": null
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPSubclusterSurfaceIndex",
        "fields": [
            {
                "name": "index",
                "type": "int32"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 4
    },
    {
        "name": "ScenarioStructureBSPSubcluster",
        "fields": [
            {
                "name": "world bounds x",
                "bounds": true,
                "type": "float"
            },
            {
                "name": "world bounds y",
                "bounds": true,
                "type": "float"
            },
            {
                "name": "world bounds z",
                "bounds": true,
                "type": "float"
            },
            {
                "name": "surface indices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPSubclusterSurfaceIndex",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 36
    },
    {
        "name": "ScenarioStructureBSPClusterSurfaceIndex",
        "fields": [
            {
                "name": "index",
                "type": "int32"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 4
    },
    {
        "name": "ScenarioStructureBSPMirrorVertex",
        "fields": [
            {
                "name": "point",
                "type": "Point3D",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 12
    },
    {
        "name": "ScenarioStructureBSPMirror",
        "fields": [
            {
                "name": "plane",
                "type": "Plane3D",
                "compound": true
            },
            {
                "type": "pad",
                "size": 20
            },
            {
                "name": "shader",
                "type": "TagDependency",
                "classes": [
                    "shader"
                ],
                "compound": true
            },
            {
                "name": "vertices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMirrorVertex",
                "hek_maximum": 512,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 64
    },
    {
        "name": "ScenarioStructureBSPClusterPortalIndex",
        "fields": [
            {
                "name": "portal",
                "type": "Index"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 2
    },
    {
        "name": "ScenarioStructureBSPCluster",
        "fields": [
            {
                "name": "sky",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "fog",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "background sound",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "sound environment",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "weather",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "transition structure bsp",
                "read_only": false,
                "type": "Index"
            },
            {
                "name": "first decal index",
                "type": "Index",
                "endian": "little",
                "cache_only": true
            },
            {
                "name": "decal count",
                "type": "uint16",
                "endian": "little",
                "cache_only": true
            },
            {
                "type": "pad",
                "size": 24
            },
            {
                "name": "predicted resources",
                "type": "TagReflexive",
                "struct": "PredictedResource",
                "hek_maximum": 1024,
                "cache_only": true,
                "compound": true
            },
            {
                "name": "subclusters",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPSubcluster",
                "hek_maximum": 4096,
                "compound": true
            },
            {
                "name": "first lens flare marker index",
                "type": "Index"
            },
            {
                "name": "lens flare marker count",
                "type": "uint16"
            },
            {
                "name": "surface indices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPClusterSurfaceIndex",
                "hek_maximum": 32768,
                "compound": true
            },
            {
                "name": "mirrors",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMirror",
                "hek_maximum": 16,
                "compound": true
            },
            {
                "name": "portals",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPClusterPortalIndex",
                "hek_maximum": 128,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 104
    },
    {
        "name": "ScenarioStructureBSPClusterPortalVertex",
        "fields": [
            {
                "name": "point",
                "type": "Point3D",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 12
    },
    {
        "name": "ScenarioStructureBSPClusterPortal",
        "fields": [
            {
                "name": "front cluster",
                "type": "Index"
            },
            {
                "name": "back cluster",
                "type": "Index"
            },
            {
                "name": "plane index",
                "type": "int32"
            },
            {
                "name": "centroid",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "bounding radius",
                "type": "float"
            },
            {
                "name": "flags",
                "type": "ScenarioStructureBSPClusterPortalFlags"
            },
            {
                "type": "pad",
                "size": 24
            },
            {
                "name": "vertices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPClusterPortalVertex",
                "hek_maximum": 128,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 64
    },
    {
        "name": "ScenarioStructureBSPBreakableSurface",
        "fields": [
            {
                "name": "centroid",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "radius",
                "type": "float"
            },
            {
                "name": "collision surface index",
                "type": "int32"
            },
            {
                "type": "pad",
                "size": 28
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 48
    },
    {
        "name": "ScenarioStructureBSPFogPlaneVertex",
        "fields": [
            {
                "name": "point",
                "type": "Point3D",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 12
    },
    {
        "name": "ScenarioStructureBSPFogPlane",
        "fields": [
            {
                "name": "front region",
                "type": "Index"
            },
            {
                "name": "material type",
                "type": "MaterialType",
                "endian": "little",
                "cache_only": true
            },
            {
                "name": "plane",
                "type": "Plane3D",
                "compound": true
            },
            {
                "name": "vertices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPFogPlaneVertex",
                "hek_maximum": 2048,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 32
    },
    {
        "name": "ScenarioStructureBSPFogRegion",
        "fields": [
            {
                "type": "pad",
                "size": 36
            },
            {
                "name": "fog",
                "read_only": false,
                "type": "Index",
                "reflexive": "fog palette",
                "struct": "ScenarioStructureBSP"
            },
            {
                "name": "weather palette",
                "read_only": false,
                "type": "Index",
                "reflexive": "weather palette",
                "struct": "ScenarioStructureBSP"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 40
    },
    {
        "name": "ScenarioStructureBSPFogPalette",
        "fields": [
            {
                "name": "name",
                "type": "TagString",
                "endian": null
            },
            {
                "name": "fog",
                "type": "TagDependency",
                "classes": [
                    "fog"
                ],
                "compound": true
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "fog scale function",
                "type": "TagString",
                "endian": null
            },
            {
                "type": "pad",
                "size": 52
            }
        ],
        "type": "struct",
        "title": "name",
        "size": 136
    },
    {
        "name": "ScenarioStructureBSPWeatherPalette",
        "fields": [
            {
                "name": "name",
                "type": "TagString",
                "endian": null
            },
            {
                "name": "particle system",
                "type": "TagDependency",
                "classes": [
                    "weather_particle_system"
                ],
                "compound": true
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "particle system scale function",
                "type": "TagString",
                "endian": null
            },
            {
                "type": "pad",
                "size": 44
            },
            {
                "name": "wind",
                "type": "TagDependency",
                "classes": [
                    "wind"
                ],
                "compound": true
            },
            {
                "name": "wind direction",
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "wind magnitude",
                "type": "float"
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "wind scale function",
                "type": "TagString",
                "endian": null
            },
            {
                "type": "pad",
                "size": 44
            }
        ],
        "type": "struct",
        "title": "name",
        "size": 240
    },
    {
        "name": "ScenarioStructureBSPWeatherPolyhedronPlane",
        "fields": [
            {
                "name": "plane",
                "type": "Plane3D",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPWeatherPolyhedron",
        "fields": [
            {
                "name": "bounding sphere center",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "bounding sphere radius",
                "type": "float"
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "planes",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPWeatherPolyhedronPlane",
                "hek_maximum": 16,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 32
    },
    {
        "name": "ScenarioStructureBSPPathfindingSurface",
        "fields": [
            {
                "name": "data",
                "type": "int8",
                "endian": null
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 1
    },
    {
        "name": "ScenarioStructureBSPPathfindingEdge",
        "fields": [
            {
                "name": "midpoint",
                "type": "int8",
                "endian": null
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 1
    },
    {
        "name": "ScenarioStructureBSPBackgroundSoundPalette",
        "fields": [
            {
                "name": "name",
                "type": "TagString",
                "endian": null
            },
            {
                "name": "background sound",
                "type": "TagDependency",
                "classes": [
                    "sound_looping"
                ],
                "compound": true
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "scale function",
                "type": "TagString",
                "endian": null
            },
            {
                "type": "pad",
                "size": 32
            }
        ],
        "type": "struct",
        "size": 116
    },
    {
        "name": "ScenarioStructureBSPSoundEnvironmentPalette",
        "fields": [
            {
                "name": "name",
                "type": "TagString",
                "endian": null
            },
            {
                "name": "sound environment",
                "type": "TagDependency",
                "classes": [
                    "sound_environment"
                ],
                "compound": true
            },
            {
                "type": "pad",
                "size": 32
            }
        ],
        "type": "struct",
        "size": 80
    },
    {
        "name": "ScenarioStructureBSPMarker",
        "fields": [
            {
                "name": "name",
                "type": "TagString",
                "endian": null
            },
            {
                "name": "rotation",
                "type": "Quaternion",
                "compound": true
            },
            {
                "name": "position",
                "type": "Point3D",
                "compound": true
            }
        ],
        "type": "struct",
        "size": 60
    },
    {
        "name": "ScenarioStructureBSPGlobalDetailObjectCell",
        "fields": [
            {
                "name": "no name",
                "type": "int16"
            },
            {
                "name": "no name 1",
                "type": "int16"
            },
            {
                "name": "no name 2",
                "type": "int16"
            },
            {
                "name": "no name 3",
                "type": "int16"
            },
            {
                "name": "no name 4",
                "type": "int32"
            },
            {
                "name": "no name 5",
                "type": "int32"
            },
            {
                "name": "no name 6",
                "type": "int32"
            },
            {
                "type": "pad",
                "size": 12
            }
        ],
        "type": "struct",
        "size": 32
    },
    {
        "name": "ScenarioStructureBSPGlobalDetailObject",
        "fields": [
            {
                "name": "no name",
                "type": "int8",
                "endian": null
            },
            {
                "name": "no name 1",
                "type": "int8",
                "endian": null
            },
            {
                "name": "no name 2",
                "type": "int8",
                "endian": null
            },
            {
                "name": "no name 3",
                "type": "int8",
                "endian": null
            },
            {
                "name": "no name 4",
                "type": "int16"
            }
        ],
        "type": "struct",
        "size": 6
    },
    {
        "name": "ScenarioStructureBSPGlobalDetailObjectCount",
        "fields": [
            {
                "name": "no name",
                "type": "int16"
            }
        ],
        "type": "struct",
        "size": 2
    },
    {
        "name": "ScenarioStructureBSPGlobalZReferenceVector",
        "fields": [
            {
                "name": "no name",
                "type": "float"
            },
            {
                "name": "no name 1",
                "type": "float"
            },
            {
                "name": "no name 2",
                "type": "float"
            },
            {
                "name": "no name 3",
                "type": "float"
            }
        ],
        "type": "struct",
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPDetailObjectData",
        "fields": [
            {
                "name": "cells",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPGlobalDetailObjectCell",
                "hek_maximum": 262144,
                "compound": true
            },
            {
                "name": "instances",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPGlobalDetailObject",
                "hek_maximum": 2097152,
                "compound": true
            },
            {
                "name": "counts",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPGlobalDetailObjectCount",
                "hek_maximum": 8388608,
                "compound": true
            },
            {
                "name": "z reference vectors",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPGlobalZReferenceVector",
                "hek_maximum": 262144,
                "compound": true
            },
            {
                "name": "bullshit",
                "type": "uint8",
                "cache_only": true,
                "endian": null
            },
            {
                "type": "pad",
                "size": 3
            },
            {
                "type": "pad",
                "size": 12
            }
        ],
        "type": "struct",
        "pre_compile": true,
        "size": 64
    },
    {
        "name": "ScenarioStructureBSPRuntimeDecal",
        "fields": [
            {
                "name": "position",
                "type": "Point3D",
                "compound": true
            },
            {
                "name": "decal type",
                "type": "Index"
            },
            {
                "name": "yaw",
                "type": "int8",
                "endian": null
            },
            {
                "name": "pitch",
                "type": "int8",
                "endian": null
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPMapLeafFaceVertex",
        "fields": [
            {
                "name": "vertex",
                "type": "Point2D",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 8
    },
    {
        "name": "ScenarioStructureBSPMapLeafFace",
        "fields": [
            {
                "name": "node index",
                "type": "int32"
            },
            {
                "name": "vertices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMapLeafFaceVertex",
                "hek_maximum": 64,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 16
    },
    {
        "name": "ScenarioStructureBSPMapLeafPortalIndex",
        "fields": [
            {
                "name": "portal index",
                "type": "int32"
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 4
    },
    {
        "name": "ScenarioStructureBSPGlobalMapLeaf",
        "fields": [
            {
                "name": "faces",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMapLeafFace",
                "hek_maximum": 256,
                "compound": true
            },
            {
                "name": "portal indices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMapLeafPortalIndex",
                "hek_maximum": 256,
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 24
    },
    {
        "name": "ScenarioStructureBSPLeafPortalVertex",
        "fields": [
            {
                "name": "point",
                "type": "Point3D",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 12
    },
    {
        "name": "ScenarioStructureBSPGlobalLeafPortal",
        "fields": [
            {
                "name": "plane index",
                "type": "int32"
            },
            {
                "name": "back leaf index",
                "type": "int32"
            },
            {
                "name": "front leaf index",
                "type": "int32"
            },
            {
                "name": "vertices",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPLeafPortalVertex",
                "compound": true
            }
        ],
        "type": "struct",
        "read_only": true,
        "size": 24
    },
    {
        "name": "ScenarioStructureBSP",
        "fields": [
            {
                "name": "lightmaps bitmap",
                "type": "TagDependency",
                "classes": [
                    "bitmap"
                ],
                "compound": true
            },
            {
                "name": "vehicle floor",
                "read_only": false,
                "unit": "world units",
                "type": "float"
            },
            {
                "name": "vehicle ceiling",
                "read_only": false,
                "unit": "world units",
                "type": "float"
            },
            {
                "type": "pad",
                "size": 20
            },
            {
                "name": "default ambient color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "default distant light 0 color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "name": "default distant light 0 direction",
                "read_only": false,
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "default distant light 1 color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "name": "default distant light 1 direction",
                "read_only": false,
                "type": "Vector3D",
                "compound": true
            },
            {
                "type": "pad",
                "size": 12
            },
            {
                "name": "default reflection tint",
                "read_only": false,
                "type": "ColorARGB",
                "compound": true
            },
            {
                "name": "default shadow vector",
                "read_only": false,
                "type": "Vector3D",
                "compound": true
            },
            {
                "name": "default shadow color",
                "read_only": false,
                "type": "ColorRGB",
                "compound": true
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "collision materials",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPCollisionMaterial",
                "hek_maximum": 512,
                "compound": true
            },
            {
                "name": "collision bsp",
                "type": "TagReflexive",
                "struct": "ModelCollisionGeometryBSP",
                "hek_maximum": 1,
                "compound": true
            },
            {
                "name": "nodes",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPNode",
                "hek_maximum": 131072,
                "compound": true
            },
            {
                "name": "world bounds x",
                "bounds": true,
                "type": "float"
            },
            {
                "name": "world bounds y",
                "bounds": true,
                "type": "float"
            },
            {
                "name": "world bounds z",
                "bounds": true,
                "type": "float"
            },
            {
                "name": "leaves",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPLeaf",
                "hek_maximum": 65536,
                "compound": true
            },
            {
                "name": "leaf surfaces",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPSurfaceReference",
                "hek_maximum": 262144,
                "compound": true
            },
            {
                "name": "surfaces",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPSurface",
                "hek_maximum": 131072,
                "compound": true
            },
            {
                "name": "lightmaps",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPLightmap",
                "hek_maximum": 128,
                "compound": true
            },
            {
                "type": "pad",
                "size": 12
            },
            {
                "name": "lens flares",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPLensFlare",
                "hek_maximum": 256,
                "compound": true
            },
            {
                "name": "lens flare markers",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPLensFlareMarker",
                "hek_maximum": 65536,
                "compound": true
            },
            {
                "name": "clusters",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPCluster",
                "hek_maximum": 8192,
                "compound": true
            },
            {
                "name": "cluster data",
                "type": "TagDataOffset",
                "compound": true
            },
            {
                "name": "cluster portals",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPClusterPortal",
                "hek_maximum": 512,
                "compound": true
            },
            {
                "type": "pad",
                "size": 12
            },
            {
                "name": "breakable surfaces",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPBreakableSurface",
                "hek_maximum": 256,
                "compound": true
            },
            {
                "name": "fog planes",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPFogPlane",
                "hek_maximum": 32,
                "compound": true
            },
            {
                "name": "fog regions",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPFogRegion",
                "hek_maximum": 32,
                "compound": true
            },
            {
                "name": "fog palette",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPFogPalette",
                "hek_maximum": 32,
                "read_only": false,
                "compound": true,
                "maximum": 65534
            },
            {
                "type": "pad",
                "size": 24
            },
            {
                "name": "weather palette",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPWeatherPalette",
                "hek_maximum": 32,
                "read_only": false,
                "compound": true
            },
            {
                "name": "weather polyhedra",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPWeatherPolyhedron",
                "hek_maximum": 32,
                "compound": true
            },
            {
                "type": "pad",
                "size": 24
            },
            {
                "name": "pathfinding surfaces",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPPathfindingSurface",
                "hek_maximum": 131072,
                "compound": true
            },
            {
                "name": "pathfinding edges",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPPathfindingEdge",
                "hek_maximum": 262144,
                "compound": true
            },
            {
                "name": "background sound palette",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPBackgroundSoundPalette",
                "hek_maximum": 64,
                "read_only": false,
                "compound": true
            },
            {
                "name": "sound environment palette",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPSoundEnvironmentPalette",
                "hek_maximum": 64,
                "read_only": false,
                "compound": true
            },
            {
                "name": "sound pas data",
                "type": "TagDataOffset",
                "compound": true
            },
            {
                "type": "pad",
                "size": 24
            },
            {
                "name": "markers",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPMarker",
                "hek_maximum": 1024,
                "compound": true
            },
            {
                "name": "detail objects",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPDetailObjectData",
                "hek_maximum": 1,
                "read_only": false,
                "compound": true
            },
            {
                "name": "runtime decals",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPRuntimeDecal",
                "hek_maximum": 6144,
                "compound": true,
                "cache_only": true
            },
            {
                "type": "pad",
                "size": 8
            },
            {
                "type": "pad",
                "size": 4
            },
            {
                "name": "leaf map leaves",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPGlobalMapLeaf",
                "hek_maximum": 65536,
                "compound": true
            },
            {
                "name": "leaf map portals",
                "type": "TagReflexive",
                "struct": "ScenarioStructureBSPGlobalLeafPortal",
                "hek_maximum": 524288,
                "compound": true
            }
        ],
        "type": "struct",
        "pre_compile": true,
        "post_compile": true,
        "read_only": true,
        "size": 648
    },
    {
        "name": "ScenarioStructureBSPCompiledHeader",
        "fields": [
            {
                "name": "pointer",
                "type": "Pointer",
                "comment": "points to the BSP tag struct",
                "cache_only": true,
                "endian": "little"
            },
            {
                "name": "lightmap material count",
                "type": "uint32",
                "comment": "(Xbox only): number of lightmap materials",
                "cache_only": true
            },
            {
                "name": "rendered vertices",
                "type": "Pointer",
                "comment": "(Xbox only): pointer to array of rendered vertices",
                "cache_only": true
            },
            {
                "name": "lightmap material count again",
                "type": "uint32",
                "comment": "(Xbox only): number of lightmap materials (again)",
                "cache_only": true
            },
            {
                "name": "lightmap vertices",
                "type": "Pointer",
                "comment": "(Xbox only): pointer to array of lightmap vertices",
                "cache_only": true
            },
            {
                "name": "signature",
                "type": "TagFourCC",
                "cache_only": true,
                "endian": "little"
            }
        ],
        "type": "struct",
        "size": 24
    }
]
